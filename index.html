<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#1e88e5" />
    <meta name="description" content="Professional GPS vehicle tracking platform in Albania." />
    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon-180x180.png" sizes="180x180" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <link rel="stylesheet" href="/styles.css">
    <title>GPS Tracker Albania</title>
    <style>
      .loader {
        position: fixed;
        inset: 0;
        margin: auto;
        width: 40px;
        aspect-ratio: 1;
        box-sizing: content-box;
        animation: ll 1s infinite linear;
        border-radius: 50%;
        border: 4px solid lightgray;
        border-right-color: black;
      }
      @keyframes ll {
        to { transform: rotate(1turn); }
      }
    </style>
    <script>
      (function () {
        try {
          var ua = navigator.userAgent || '';
          var isApp = ua.indexOf('GPSTrackerApp') !== -1;

          // Add class ASAP so CSS can target app quickly
          if (isApp) {
            document.documentElement.classList.add('is-app');
          }

          // Body might not exist yet
          document.addEventListener('DOMContentLoaded', function () {
            if (isApp && document.body) {
              document.body.classList.add('is-app');
            }
          });

          // Disable PWA caching ONLY inside the app (so changes go live)
          if (isApp && 'serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function (regs) {
              regs.forEach(function (r) {
                r.unregister();
              });
            });
          }
          if (isApp && window.caches && caches.keys) {
            caches.keys().then(function (keys) {
              keys.forEach(function (k) {
                caches.delete(k);
              });
            });
          }
        } catch (e) {}
      })();
    </script>
  </head>
  <body>
    <noscript>Enable JavaScript to use GPS Tracker Albania.</noscript>
    <div id="root" class="root"></div>
    <div class="loader"></div>
    <script type="module" src="/src/index.jsx" onerror="alert('Loading error.')"></script>
  </body>
</html>